(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{8945:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(5671),i=n(3144),r=n(4942),o=function(){function e(t){var n=t.type,i=t.parent,o=t.classParent,a=void 0===o?".title":o,c=t.classElem,l=void 0===c?".title__elem":c;(0,s.Z)(this,e),(0,r.Z)(this,"offset",50),this.type=n,this.parent=i,this.classParent=a,this.classElem=l,this.handler=this.handler.bind(this),this.init=this.init.bind(this),this.destroy=this.destroy.bind(this)}return(0,i.Z)(e,[{key:"handler",value:function(){var e=this;switch(this.type){case"title":this.parent.querySelectorAll(this.classParent).forEach((function(t,n){!1===e.titles[n]&&t.getBoundingClientRect().y<document.documentElement.clientHeight-e.offset&&(e.titles[n]=!0,t.querySelectorAll(e.classElem).forEach((function(e,t){setTimeout((function(){e.classList.add("_show")}),15*t)})))}));break;case"text":this.parent.querySelectorAll(this.classParent).forEach((function(t,n){!1===e.texts[n]&&t.getBoundingClientRect().y<document.documentElement.clientHeight-e.offset&&(e.texts[n]=!0,t.classList.add("_show"))}));break;case"stagesLine":this.parent.querySelectorAll(this.classParent).forEach((function(t,n){!1===e.stagesLine[n]&&t.getBoundingClientRect().y<document.documentElement.clientHeight-e.offset&&(e.stagesLine[n]=!0,t.classList.remove("_hide"))}));break;case"statsItems":this.parent.querySelectorAll(this.classParent).forEach((function(t,n){!1===e.statsItems[n]&&t.getBoundingClientRect().y<document.documentElement.clientHeight-e.offset&&(e.statsItems[n]=!0,t.classList.add("_show"))}));break;case"case":!1===this.case&&this.parent.getBoundingClientRect().y<document.documentElement.clientHeight-this.offset&&(this.case=!0,this.parent.classList.remove("_hide"),setTimeout((function(){e.parent.classList.add("_notAnimate")}),1e3))}}},{key:"init",value:function(){var e=this;switch(document.addEventListener("scroll",this.handler),this.type){case"title":this.titles=[],this.parent.querySelectorAll(this.classParent).forEach((function(){e.titles.push(!1)}));break;case"text":this.texts=[],this.parent.querySelectorAll(this.classParent).forEach((function(){e.texts.push(!1)}));break;case"stagesLine":this.stagesLine=[],this.parent.querySelectorAll(this.classParent).forEach((function(){e.stagesLine.push(!1)}));break;case"statsItems":this.statsItems=[],this.parent.querySelectorAll(this.classParent).forEach((function(){e.statsItems.push(!1)}));break;case"case":this.case=!1}}},{key:"destroy",value:function(){document.removeEventListener("scroll",this.handler)}}]),e}()},5950:function(e,t,n){"use strict";var s=n(4942),i=n(5671),r=n(3144),o=n(7326),a=n(9340),c=n(6215),l=n(1120),u=n(7294),f=n(5893);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return(0,c.Z)(this,n)}}var p=function(e){(0,a.Z)(n,e);var t=d(n);function n(e){var s;return(0,i.Z)(this,n),(s=t.call(this,e)).state={isFocus:!1},s.handlerFocus=s.handlerFocus.bind((0,o.Z)(s)),s.setHeight=s.setHeight.bind((0,o.Z)(s)),s.getId=s.getId.bind((0,o.Z)(s)),s.parent=u.createRef(),s}return(0,r.Z)(n,[{key:"handlerFocus",value:function(e){this.setState((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return n.isFocus=e,n}))}},{key:"setHeight",value:function(){if("area"===this.props.model.tag){var e=this.parent.current.querySelector(".field__input");e.style.height="auto",e.style.height=e.scrollHeight+"px"}}},{key:"getId",value:function(){var e=this.props.model.key;return"input-".concat(e)}},{key:"render",value:function(){var e=this,t=this.state.isFocus,n=this.props,s=n.model,i=n.callback,r=n.error,o=s.tag,a=s.value,c=s.key,l=s.isRequired;return(0,f.jsxs)("div",{ref:this.parent,className:"field _".concat(o," ").concat(!0===t||a?"_active":""," ").concat(!0===t?"_focus":""," ").concat(s.classes," ").concat(r?"_error":""),children:[(0,f.jsxs)("label",{className:"field__support",htmlFor:this.getId(),children:[s.support,!0===l?(0,f.jsx)("span",{children:"*"}):null]}),(0,f.jsxs)("div",{className:"field__box",children:[r&&(0,f.jsx)("div",{className:"field__error",children:r}),"input"===o&&(0,f.jsx)("input",{type:"text",className:"field__input",value:a||"",id:this.getId(),onFocus:function(){e.handlerFocus(!0)},onBlur:function(){e.handlerFocus(!1)},onChange:function(e){i({key:c,value:e.target.value})}}),"area"===o&&(0,f.jsx)("textarea",{type:"text",className:"field__input",value:a||"",id:this.getId(),onFocus:function(){e.handlerFocus(!0)},onBlur:function(){e.handlerFocus(!1)},onChange:function(t){i({key:c,value:t.target.value}),e.setHeight()}})]})]})}}]),n}(u.Component);t.Z=p},2860:function(e,t,n){"use strict";var s=n(5671),i=n(3144),r=n(7326),o=n(9340),a=n(6215),c=n(1120),l=n(4942),u=n(7294),f=n(6458),h=n(9669),d=n.n(h),p=n(5950),m=n(3641),v=n(477),y=n(694),g=n(5893);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return(0,a.Z)(this,n)}}var k=function(e){(0,o.Z)(n,e);var t=j(n);function n(e){var i;return(0,s.Z)(this,n),i=t.call(this,e),(0,l.Z)((0,r.Z)(i),"fields",[{key:"contacts-name",name:"name",support:"\u0418\u043c\u044f",tag:"input"},{key:"contacts-phone",name:"phone",support:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u0430",tag:"input"},{key:"contacts-comments",name:"message",support:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",tag:"area"}]),(0,l.Z)((0,r.Z)(i),"counterFile",0),(0,l.Z)((0,r.Z)(i),"formData",new FormData),i.state={fields:{},isLoad:!1,files:[]},i.setFields=i.setFields.bind((0,r.Z)(i)),i.handlerInput=i.handlerInput.bind((0,r.Z)(i)),i.sendForm=i.sendForm.bind((0,r.Z)(i)),i.addFiles=i.addFiles.bind((0,r.Z)(i)),i.uploadFiles=i.uploadFiles.bind((0,r.Z)(i)),i.deleteFile=i.deleteFile.bind((0,r.Z)(i)),i}return(0,i.Z)(n,[{key:"handlerInput",value:function(e){var t=e.key,n=e.value;this.setState((function(e){var s=b({},e),i=b({},s.fields);return i[t].value=n,i[t].error=null,s.fields=i,s}))}},{key:"setFields",value:function(){var e=this;this.formData=new FormData,this.setState((function(t){var n=b({},t),s={};return e.fields.forEach((function(e){s[e.key]={value:"",error:null}})),n.fields=s,n.files=[],n}))}},{key:"setErrors",value:function(e){var t=this;this.setState((function(n){var s=b({},n),i=s.fields;return t.fields.forEach((function(t){e[t.name]&&i[t.key]&&(i[t.key].error=e[t.name][0])})),s.fields=i,s}))}},{key:"addFiles",value:function(e){this.setState((function(t){var n=b({},t),s=n.files;return s=s.concat(e),n.files=s,n}))}},{key:"uploadFiles",value:function(e){var t=this,n=e.target.files,s=["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml"],i=[];Object.keys(n).forEach((function(e){t.counterFile+=1;var r=n[e],o="other";-1!==s.indexOf(r.type)&&(o="image"),t.formData.set("file_".concat(t.counterFile),r),i.push({type:o,key:t.counterFile})})),this.addFiles(i)}},{key:"deleteFile",value:function(e){var t=this;this.setState((function(n){var s=b({},n),i=s.files,r=i.findIndex((function(t){return t.key===e}));return i.splice(r,1),t.formData.delete("file_".concat(e)),s.files=i,s}))}},{key:"sendForm",value:function(){var e=this,t=this.state.fields,n={};if(this.fields.forEach((function(n){e.formData.set(n.name,t[n.key].value)})),this.formData.set("url",encodeURI(window.location.href)),t["contacts-name"].value||(n.name=["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"]),t["contacts-phone"].value||(n.phone=["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u043b\u0438\u0431\u043e \u043f\u043e\u0447\u0442\u0443"]),t["contacts-comments"].value||(n.message=["\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435"]),0===Object.keys(n).length){d().post("https://api.appsstudio.ru/v1/feedback/",this.formData).then((function(t){s(!1),201===t.data.code&&(e.setFields(),(0,v.Z)("show","successForm"))}),(function(t){s(!1);var n=t.response.data;400===n.code?e.setErrors(n):(0,v.Z)("show","errorForm",{callback:function(){e.sendForm()}})}));var s=function(t){return new Promise((function(n){e.setState((function(n){var s=b({},n);return s.isLoad=t,e.props.setLoad&&"function"===typeof e.props.setLoad&&e.props.setLoad(t),s}),(function(){n()}))}))};s(!0)}else this.setErrors(n)}},{key:"getTitle",value:function(){switch(this.props.type){case"fast":return"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0437\u0430\u043a\u0430\u0437";default:return"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"}}},{key:"componentDidMount",value:function(){this.setFields()}},{key:"render",value:function(){var e=this,t=this.state,n=t.fields,s=t.isLoad,i=t.files,r=this.props.type;return(0,g.jsxs)("div",{className:"form ".concat(!0===s?"_isLoad":""," ").concat(r&&"_".concat(r)||""),children:[(0,g.jsx)("div",{className:"form__loader",children:(0,g.jsxs)("div",{className:"loader",children:[(0,g.jsx)("i",{className:"loader__icon",children:(0,g.jsx)(m.Z,{name:"loader"})}),(0,g.jsx)("p",{className:"loader__description",children:"\u0424\u043e\u0440\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f"})]})}),(0,g.jsx)("h4",{className:"form__title",children:this.getTitle()}),(0,g.jsx)("div",{className:"form__fields",children:this.fields.map((function(t,s){var i,r;return(0,g.jsx)("div",{className:"form__field",children:(0,g.jsx)(p.Z,{model:b(b({},t),{},{value:null===(i=n[t.key])||void 0===i?void 0:i.value}),callback:e.handlerInput,error:null===(r=n[t.key])||void 0===r?void 0:r.error})},s)}))}),(0,g.jsxs)("div",{className:"form__actions",children:[(0,g.jsxs)("div",{className:"form__files",children:[i.filter((function(e,t){return!(i.length>3)||t<=1})).map((function(t,n){return(0,g.jsxs)("div",{className:"form__preview",children:[(0,g.jsx)("i",{className:"form__previewDelete",onClick:function(){e.deleteFile(t.key)},children:(0,g.jsx)(m.Z,{name:"file-delete"})}),(0,g.jsx)("i",{className:"form__previewIcon",children:(0,g.jsx)(m.Z,{name:"image"===t.type?"file-type-2":"file-type-1"})})]},n)})),i.length>3&&(0,g.jsxs)("div",{className:"form__preview _more",children:["+",i.length-2]}),(0,g.jsxs)("label",{className:"form__file",children:[(0,g.jsx)("input",{type:"file",className:"form__fileInput",multiple:!0,onChange:this.uploadFiles}),(0,g.jsxs)("div",{className:"form__fileView",children:[(0,g.jsx)("div",{className:"form__fileBox",children:(0,g.jsx)("i",{className:"form__fileIcon",children:(0,g.jsx)(m.Z,{name:"form-file"})})}),0===i.length&&(0,g.jsx)("p",{className:"form__fileContent",children:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b"})]})]})]}),(0,g.jsx)("div",{className:"form__button",onClick:function(){e.sendForm()},children:(0,g.jsx)(y.Z,{classes:"_main",content:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})]})}}]),n}(u.Component);t.Z=(0,f.$j)((function(e){return{device:e.device}}))(k)},9966:function(e,t,n){var s={"./be-icon.svg":7354,"./beh-foot-icon-white.svg":7194,"./beh-foot-icon.svg":5326,"./fb-foot-icon-white.svg":9467,"./fb-foot-icon.svg":1577,"./inst-foot-icon-white.svg":7596,"./inst-foot-icon.svg":2607,"./inst-icon.svg":8881,"./tg-icon-2.svg":4741,"./tg-icon.svg":3350,"./vk-foot-icon-white.svg":6189,"./vk-foot-icon.svg":7633,"./wa-icon-2.svg":1107,"./wa-icon.svg":8731};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=9966}}]);